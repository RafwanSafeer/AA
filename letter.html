<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Letter To You - Our First Anniversary</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Pacifico&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="scrapbook-bg"></div>
    
    <div class="confetti" id="confetti-container"></div>
    
    <!-- Floating Circles Background -->
    <div class="floating-circle" style="top: 15%; left: 10%; width: 120px; height: 120px; animation-delay: 0s;"></div>
    <div class="floating-circle" style="top: 60%; left: 5%; width: 180px; height: 180px; animation-delay: 5s;"></div>
    <div class="floating-circle" style="top: 25%; left: 80%; width: 150px; height: 150px; animation-delay: 3s;"></div>
    <div class="floating-circle" style="top: 70%; left: 75%; width: 140px; height: 140px; animation-delay: 6s;"></div>
    
    <!-- Emoji Decorations -->
    <div class="emoji-decoration" style="top: 5%; left: 5%;">💖</div>
    <div class="emoji-decoration" style="top: 10%; right: 8%;">✨</div>
    <div class="emoji-decoration" style="bottom: 15%; left: 7%;">🥰</div>
    <div class="emoji-decoration" style="bottom: 10%; right: 10%;">💘</div>
    <div class="emoji-decoration" style="top: 40%; left: 2%;">💝</div>
    <div class="emoji-decoration" style="top: 30%; right: 3%;">💕</div>
    <div class="emoji-decoration" style="bottom: 30%; left: 3%;">💞</div>
    <div class="emoji-decoration" style="bottom: 40%; right: 5%;">💓</div>
    
    <div class="star star-left">⭐</div>
    <div class="star star-right">✨</div>
    
    <div class="memory-lane-container">
        <div class="letter-container">
            <div class="paper-clip"></div>
            <div class="heart-decoration heart-1">❤️</div>
            <div class="heart-decoration heart-2">❤️</div>
            
            <h1 class="letter-title">
                <span style="--i:1">O</span>
                <span style="--i:2">n</span>
                <span style="--i:3">e</span>
                <span style="--i:4"> </span>
                <span style="--i:5">Y</span>
                <span style="--i:6">e</span>
                <span style="--i:7">a</span>
                <span style="--i:8">r</span>
                <span style="--i:9"> </span>
                <span style="--i:10">o</span>
                <span style="--i:11">f</span>
                <span style="--i:12"> </span>
                <span style="--i:13">L</span>
                <span style="--i:14">o</span>
                <span style="--i:15">v</span>
                <span style="--i:16">e</span>
            </h1>
            
            <div class="letter-content">
                <p class="reveal-text"><strong>To My Beautiful Ana,</strong></p>
                
                <p class="reveal-text">Happy one-year anniversary, baby ❤️</p>
                
                <p class="reveal-text">Can you believe it's been 365 days of you putting up with my nonsense? Honestly, you deserve a trophy… or maybe a lifetime supply of cuddles and kisses (redeemable anytime, no expiry date 😌).</p>
                
                <p class="reveal-text">I still remember the first time I hugged you—how everything felt calm, like the whole world just faded away and it was just us. And our first kiss? Let's be honest… I think I stopped thinking for a second. You just have that effect on me. Then there was our first date—the way you smiled, laughed, and made me feel like the luckiest person alive. From that moment on, every memory we've made became something I treasure.</p>
                
                <p class="reveal-text">But what means even more to me is how you've always been by my side, especially when things were tough. You stayed. You talked with me when I felt low, reminded me I existed when I felt invisible, and held my hand—figuratively and literally—through everything. You've made my heart feel seen, heard, and loved in ways I never knew I needed.</p>
                
                <p class="reveal-text">And of course, I can't forget the important stuff—like how I <em>might</em> have mentioned that if you ever tripped and fell, the tiles wouldn't survive... not because you're heavy (you're <em>literally perfect</em>, and you better not argue with me), but because you're just that powerful. One step from you could shift the earth, girl 😌</p>
                
                <p class="reveal-text">Also—just a friendly reminder that if you're talking to other boys… I <em>am</em> side-eyeing every one of them 😒. Only <em>I</em> get to steal your attention, okay?</p>
                
                <p class="reveal-text">Thank you for being the brightest part of my life. For loving me, supporting me, and making every single day feel like something out of a fairytale—with a little bit of chaos and a whole lot of heart.</p>
                
                <p class="reveal-text">One year down, forever to go—with you, always. 💫</p>
                
                <div class="letter-signature reveal-text">With all my love,<br><strong>Rafwan</strong> 💙</div>
            </div>
        </div>
        
        <div class="page-navigation">
            <a href="love.html" class="nav-button">💝 One Last Thing... 💝</a>
        </div>
    </div>

    <!-- Music -->
    <audio id="bgMusic" loop autoplay preload="auto">
        <source src="./music/Warm-Memories-Emotional-Inspiring-Piano(chosic.com).mp3" type="audio/mp3">
    </audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Create confetti
            function createConfetti() {
                const confettiContainer = document.getElementById('confetti-container');
                const colors = ['#ffeb3b', '#ff9fc2', '#ff6c9e', '#ffd700', '#ffffff'];
                const count = 50;
                
                for (let i = 0; i < count; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'falling-confetti';
                    
                    let left = Math.random() * 100;
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    const duration = 8 + Math.random() * 7;
                    const delay = Math.random() * 5;
                    const size = 5 + Math.random() * 10;
                    
                    confetti.style.left = `${left}%`;
                    confetti.style.width = `${size}px`;
                    confetti.style.height = `${size}px`;
                    confetti.style.backgroundColor = color;
                    confetti.style.animationDuration = `${duration}s`;
                    confetti.style.animationDelay = `${delay}s`;
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    
                    if (Math.random() > 0.7) {
                        confetti.innerHTML = '★';
                        confetti.style.fontSize = `${size * 2}px`;
                        confetti.style.backgroundColor = 'transparent';
                        confetti.style.color = color;
                    } else if (Math.random() > 0.5) {
                        confetti.innerHTML = '❤';
                        confetti.style.fontSize = `${size * 2}px`;
                        confetti.style.backgroundColor = 'transparent';
                        confetti.style.color = color;
                    } else if (Math.random() > 0.3) {
                        confetti.innerHTML = '💕';
                        confetti.style.fontSize = `${size * 2}px`;
                        confetti.style.backgroundColor = 'transparent';
                        confetti.style.color = color;
                    } else if (Math.random() > 0.4) {
                        confetti.style.borderRadius = '0';
                    } else {
                        confetti.style.borderRadius = '50%';
                    }
                    
                    confettiContainer.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, (duration + delay) * 1000);
                }
            }
            
            // Create initial confetti
            createConfetti();
            
            // Create continuous confetti
            setInterval(() => {
                createConfetti();
            }, 3000);
            
            // Letter title animation
            const titleLetters = document.querySelectorAll('.letter-title span');
            titleLetters.forEach((letter, index) => {
                gsap.to(letter, {
                    rotation: "+=5",
                    duration: 2,
                    repeat: -1,
                    yoyo: true,
                    ease: "sine.inOut",
                    delay: index * 0.1
                });
            });
            
            // Reveal text animation
            const revealTexts = document.querySelectorAll('.reveal-text');
            revealTexts.forEach((text, index) => {
                text.style.opacity = "0";
                text.style.transform = "translateY(20px)";
                
                setTimeout(() => {
                    text.style.transition = "all 0.8s cubic-bezier(0.4, 0, 0.2, 1)";
                    text.style.opacity = "1";
                    text.style.transform = "translateY(0)";
                }, 500 + (index * 400));
            });
            
            // Interactive hover effect for paragraphs
            revealTexts.forEach(text => {
                text.addEventListener('mouseover', () => {
                    text.style.transform = "scale(1.02) translateX(10px)";
                    text.style.color = "#ff4d89";
                });
                
                text.addEventListener('mouseout', () => {
                    text.style.transform = "scale(1) translateX(0)";
                    text.style.color = "";
                });
            });
            
            // Create floating hearts
            function createHearts() {
                const letterContainer = document.querySelector('.letter-container');
                
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.className = 'floating-heart';
                        heart.innerHTML = Math.random() > 0.5 ? '❤️' : '💕';
                        heart.style.left = `${Math.random() * 80 + 10}%`;
                        heart.style.bottom = '10%';
                        heart.style.animationDelay = `${Math.random() * 2}s`;
                        
                        letterContainer.appendChild(heart);
                        
                        setTimeout(() => {
                            heart.remove();
                        }, 5000);
                    }, i * 2000);
                }
            }
            
            // Create hearts periodically
            setInterval(createHearts, 6000);

            // Add scroll-triggered animations
            gsap.from('.letter-container', {
                scrollTrigger: {
                    trigger: '.letter-container',
                    start: 'top center',
                    end: 'bottom center',
                    toggleActions: 'play none none reverse'
                },
                duration: 1.5,
                y: 100,
                opacity: 0,
                rotation: -2,
                ease: 'power3.out'
            });

            // Get music element
            const bgMusic = document.getElementById('bgMusic');
            
            // Set volume
            bgMusic.volume = 0.5;
            
            // Force play music and maintain position across pages
            function forcePlayMusic() {
                // Try to restore playback position if coming from another page
                const savedTime = parseFloat(localStorage.getItem('musicPosition') || '0');
                if (savedTime > 0) {
                    bgMusic.currentTime = savedTime;
                }
                
                // Play music
                const playPromise = bgMusic.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        localStorage.setItem('musicIsPlaying', 'true');
                    }).catch(err => {
                        console.log('Music play error:', err);
                    });
                }
            }
            
            // Save current position before navigating away
            function savePosition() {
                if (!bgMusic.paused) {
                    localStorage.setItem('musicPosition', bgMusic.currentTime.toString());
                    localStorage.setItem('musicIsPlaying', 'true');
                }
            }
            
            // Add event listeners to links for saving position
            document.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', savePosition);
            });
            
            // Update saved position every 2 seconds
            setInterval(() => {
                if (!bgMusic.paused) {
                    localStorage.setItem('musicPosition', bgMusic.currentTime.toString());
                }
            }, 2000);
            
            // Try to play immediately
            forcePlayMusic();
            
            // Use various user interactions to trigger audio
            ['click', 'touchstart', 'keydown', 'scroll', 'mousemove'].forEach(event => {
                document.addEventListener(event, forcePlayMusic, { once: true });
            });
            
            // Handle page visibility change
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    if (!bgMusic.paused) {
                        localStorage.setItem('musicPosition', bgMusic.currentTime.toString());
                    }
                } else {
                    forcePlayMusic();
                }
            });
            
            // Force autoplay on page load with a small delay
            setTimeout(forcePlayMusic, 500);
            setTimeout(forcePlayMusic, 1000);
            setTimeout(forcePlayMusic, 2000);
        });
    </script>
</body>
</html> 